services:
 base:
   image: postgres:16
   restart: always
   environment:
     POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
   ports:
     - 5432:5432
   volumes:
     - postgres-data:/var/lib/postgresql/data

 adminer:
   image: adminer
   restart: always
   ports:
     - 8080:8080

 proxy:
   build:
     context: ./Backend
     dockerfile: ./proxy.Dockerfile
   depends_on:
     - base
   environment:
     FRONTEND_ORIGIN: https://localhost:3000
     ASPNETCORE_HTTP_PORTS: 2106
   ports:
     - 2106:2106
     
volumes:
 postgres-data:
